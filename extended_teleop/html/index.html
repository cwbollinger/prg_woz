<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ResolutionBot Teleop Control</title>
    <!-- Compressed CSS -->
    <link rel="stylesheet" href="./styles/jquery-ui.css"/>
    <link rel="stylesheet" href="./styles/foundation.min.css"/>
    <style>
    table select {
      margin: 0;
    }
    #chat-input {
      color: black;
      background: #3adb76;
      padding: 5px 3px;
      line-height: 28px;
    }
    #chat-input::placeholder {
      color: black;
      opacity: 0.7;
    }
    #chat-history {
      padding: 5px 10px;
    }
    .red {
      background-color: red;
    }
    .green {
      background-color: green;
    }
    .yellow {
      background-color: yellow;
    }
    .sphere {
      height: 100px;
      width: 100px;
      border-radius: 50%;
      text-align: center;
      vertical-align: middle;
      font-size: 500%;
      position: relative;
      box-shadow: inset -5px -5px 50px #000, 5px 5px 10px black, inset 0px 0px 5px black;
      display: inline-block;
      margin: 5%;
    }
    .sphere::after {
      background-color: rgba(255, 255, 255, 0.3);
      content: '';
      height: 45%;
      width: 12%;
      position: absolute;
      top: 4%;
      left: 15%;
      border-radius: 50%;
      transform: rotate(40deg);
    }
    </style>
    <!-- Compressed JavaScript -->
    <script src="./dist/bundle.js"></script>
    <script src="./js/janus.js"></script>
    <script src="./js/janusStreaming.js"></script>
  </head>
  <body>
    <div class="reveal" id="editModal">
      <h2>Audio Controls</h2>
      <table id="edit-audio">
        <thead>
          <tr>
            <th>(Title)</th>
            <th>Category</th>
            <th>Controller Mapping</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table> 
      <h2>Motion Controls</h2>
      <table id="edit-motion">
        <thead>
          <tr>
            <th>(Title)</th>
            <th>Controller Mapping</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table> 
      <h2>Miscellaneous Controls</h2>
      <table id="edit-misc">
        <thead>
          <tr>
            <th>(Title)</th>
            <th>Controller Mapping</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
      <div>
      <a id="save-mapping" style="float:left;">Save Changes</a><a id="load-mapping" style="float:right;">Cancel</a>
      </div>
    </div>

    <div class="grid-y grid-frame cell-block-container">
      <div class="cell cell-block-y medium-7">
        <div class="grid-x">
          <div class="cell medium-4 grid-padding-x">
            <div class="grid-y grid-frame">
              <div class="cell shrink">
                <h4>Motion Controls</h4>
                <div class="small motion-buttons button-group">
                  <button type="button" class="button large motion-control" id="bump">Bump</button>
                  <button type="button" class="button large motion-control" id="nudge">Nudge</button>
                  <button type="button" class="button large motion-control" id="rotate">Rotate</button>
                  <button type="button" class="button large motion-control" id="shake">Shake</button>
                </div>
              </div>
              <div class="cell shrink">
                <h4>Audio Controls</h4>
                <div>Basics</div>
                <div class="small basic-buttons button-group">
                  <button type="button" id="say-hello" class="button large speech-control">Hello</button>
                  <button type="button" id="say-great" class="button large speech-control">Great</button>
                  <button type="button" id="say-ok" class="button large speech-control">Ok</a>
                  <button type="button" id="say-goodbye" class="button large speech-control">Goodbye</button>
                </div>
                <div>Questions</div>
                <div class="small question-buttons button-group">
                  <button type="button" id="say-joke" class="button large speech-control">Joke</button>
                  <button type="button" id="say-exercise" class="button large speech-control">Exercise</button>
                  <button type="button" id="say-snack" class="button large speech-control">Snack</button>
                  <button type="button" id="say-sure" class="button large speech-control">Sure</button>
                </div>
                <div>Facts</div>
                <div class="small fact-buttons button-group">
                  <button type="button" id="say-emotional-fact" class="button large speech-control">Emotional</button>
                  <button type="button" id="say-physical-fact" class="button large speech-control">Physical</button>
                  <button type="button" id="say-nutrition-fact" class="button large speech-control">Nutritional</button>
                </div>
                <div>Guided Orders</div>
                <div class="small guide-buttons button-group">
                  <button type="button" id="say-pushups" class="button large speech-control">Pushup</button>
                  <button type="button" id="say-jumping-jacks" class="button large speech-control">Jumping</button>
                </div>
              </div>
              <div class="cell shrink">
                <p><a id="button-edit" data-open="editModal">Edit Controller Mapping</a></p>
              </div>
            </div>
          </div>
          <div class="cell medium-4">
            <div class="grid-y">
              <div id="remote-feed" class="cell medium-8">
                <audio id="audio-stream" style="display:hide;" autoplay></audio>
                <img id="video-display"/>
              </div>
              <div class="cell medium-4">
                <div id="speed-label"></div>
                <div id="speed-slider"></div>
                <div id="rotation-label"></div>
                <div id="rotation-slider"></div>
              </div>
            </div>
          </div>
          <div id="cmd-div" class="cell medium-4">
          </div>
        </div>
      </div>
      <div class="cell card auto">
        <div class="grid-x">
          <div class="cell card medium-6">
            <input id="chat-input" placeholder="Type a Message"></input>
            <div id="chat-history" style="flex:1;overflow-y:auto;white-space:pre;"/></div>
          </div>
          <div class="cell card shrink">
            <div class="sphere red"></div>
            <div class="sphere yellow"></div>
            <div class="sphere green"></div>
          </div>
        </div>
      </div>
      <div class="cell shrink">
        <div class="grid-x">
          <div class="cell card medium-5">
            <h5>Session Details</h5>
            <div class="cell grid-x shrink">
              <div class="cell shrink">
                <label for="name" class="text-right">Participant:</label>
                <label for="session_no" class="text-right">Session:</label>
              </div>
              <div class="cell medium-6 cell-block-container">
                <input id="record-name" name="name" placeholder="Name"/>
                <input id="record-session" name="session_no" placeholder="Session"/>
              </div>
            </div>
          </div>
          <div class="cell card medium-2">
            <button type="button" id="record-ctrl" class="success button">Start Recording</button>
          </div>
          <div class="cell card medium-5">
          </div>
        </div>
      </div>
    </div>

    <script>
      /*
      $(document).ready(() => {
        init();
        teleop.on('buttonDown', idx => {
            console.log(`pressed:${idx}`);
            gamepadButtonHandler(idx);
        });
        teleop.on('buttonUp', idx => {
            console.log(`released:${idx}`);
        });
        teleop.on('change', twist => {
            console.log('updated:'+JSON.stringify(twist));
        });
        teleop.on('changeTilt', tilt => {
            console.log('updatedTilt: '+tilt);
        });
      });
      */

    </script>

  </body>
</html>
